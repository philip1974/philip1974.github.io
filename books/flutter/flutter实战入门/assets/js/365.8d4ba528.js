(window.webpackJsonp=window.webpackJsonp||[]).push([[365],{1065:function(n,s,e){"use strict";e.r(s);var a=e(44),t=Object(a.a)({},(function(){var n=this,s=n.$createElement,e=n._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h3",{attrs:{id:"pageview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pageview"}},[n._v("#")]),n._v(" PageView")]),n._v(" "),e("p",[n._v("PageView 控件可以实现一个“图片轮播”的效果，PageView 不仅可以水平滑动也可以垂直滑动，简单用法如下：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("PageView(\n\tchildren: <Widget>[\n\t\tMyPage1(),    \n\t\tMyPage2(), \n\t\tMyPage3(),    \n    ],\n)\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/202002281429362.gif",alt:""}})]),n._v(" "),e("p",[n._v("PageView滚动方向默认是水平，可以设置其为垂直方向：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("PageView(\n\tscrollDirection: Axis.vertical,\n\t...\n)\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br")])]),e("p",[n._v("PageView配合PageController可以实现非常酷炫的效果，控制每一个Page不占满，")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("PageView(\n\tcontroller: PageController(\n\t\tviewportFraction: 0.9，\n\t),\n\t...\n)\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200228143922817.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21lbmdrczE5ODc=,size_16,color_FFFFFF,t_70",alt:""}})]),n._v(" "),e("p",[n._v("PageController中属性"),e("code",[n._v("initialPage")]),n._v("表示当前加载第几页,默认第一页。")]),n._v(" "),e("p",[e("code",[n._v("onPageChanged")]),n._v("属性是页面发生变化时的回调，用法如下：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("PageView(\n\tonPageChanged: (int index){\n\t},\n\t...\n)\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br")])]),e("h4",{attrs:{id:"无限滚动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#无限滚动"}},[n._v("#")]),n._v(" 无限滚动")]),n._v(" "),e("p",[n._v("PageView滚动到最后时希望滚动到第一个页面，这样看起来PageView是无限滚动的：")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("List<Widget> pageList = [PageView1(), PageView2(), PageView3()];\n\nPageView.builder(\n\titemCount: 10000,\n\titemBuilder: (context, index) {\n\t\treturn pageList[index % (pageList.length)];\n    },\n)\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br")])]),e("p",[n._v("巧妙的利用取余重复构建页面实现PageView无限滚动的效果：\n"),e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200228150009717.gif",alt:""}})]),n._v(" "),e("h4",{attrs:{id:"实现指示器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实现指示器"}},[n._v("#")]),n._v(" 实现指示器")]),n._v(" "),e("p",[n._v("指示器显示总数和当前位置，通过"),e("code",[n._v("onPageChanged")]),n._v("确定当前页数并更新指示器。")]),n._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("List<String> pageList = ['PageView1', 'PageView2', 'PageView3'];\n  int _currentPageIndex = 0;\n\n  _buildPageView() {\n    return Center(\n      child: Container(\n        height: 230,\n        child: Stack(\n          children: <Widget>[\n            PageView.builder(\n              onPageChanged: (int index) {\n                setState(() {\n                  _currentPageIndex = index % (pageList.length);\n                });\n              },\n              itemCount: 10000,\n              itemBuilder: (context, index) {\n                return _buildPageViewItem(pageList[index % (pageList.length)]);\n              },\n            ),\n            Positioned(\n              bottom: 10,\n              left: 0,\n              right: 0,\n              child: Container(\n                child: Row(\n                  mainAxisAlignment: MainAxisAlignment.center,\n                  children: List.generate(pageList.length, (i) {\n                    return Container(\n                      margin: EdgeInsets.symmetric(horizontal: 5),\n                      width: 10,\n                      height: 10,\n                      decoration: BoxDecoration(\n                          shape: BoxShape.circle,\n                          color: _currentPageIndex == i\n                              ? Colors.blue\n                              : Colors.grey),\n                    );\n                  }).toList(),\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n\n  _buildPageViewItem(String txt, {Color color = Colors.red}) {\n    return Container(\n      color: color,\n      alignment: Alignment.center,\n      child: Text(\n        txt,\n        style: TextStyle(color: Colors.white, fontSize: 28),\n      ),\n    );\n  }\n")])]),n._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[n._v("1")]),e("br"),e("span",{staticClass:"line-number"},[n._v("2")]),e("br"),e("span",{staticClass:"line-number"},[n._v("3")]),e("br"),e("span",{staticClass:"line-number"},[n._v("4")]),e("br"),e("span",{staticClass:"line-number"},[n._v("5")]),e("br"),e("span",{staticClass:"line-number"},[n._v("6")]),e("br"),e("span",{staticClass:"line-number"},[n._v("7")]),e("br"),e("span",{staticClass:"line-number"},[n._v("8")]),e("br"),e("span",{staticClass:"line-number"},[n._v("9")]),e("br"),e("span",{staticClass:"line-number"},[n._v("10")]),e("br"),e("span",{staticClass:"line-number"},[n._v("11")]),e("br"),e("span",{staticClass:"line-number"},[n._v("12")]),e("br"),e("span",{staticClass:"line-number"},[n._v("13")]),e("br"),e("span",{staticClass:"line-number"},[n._v("14")]),e("br"),e("span",{staticClass:"line-number"},[n._v("15")]),e("br"),e("span",{staticClass:"line-number"},[n._v("16")]),e("br"),e("span",{staticClass:"line-number"},[n._v("17")]),e("br"),e("span",{staticClass:"line-number"},[n._v("18")]),e("br"),e("span",{staticClass:"line-number"},[n._v("19")]),e("br"),e("span",{staticClass:"line-number"},[n._v("20")]),e("br"),e("span",{staticClass:"line-number"},[n._v("21")]),e("br"),e("span",{staticClass:"line-number"},[n._v("22")]),e("br"),e("span",{staticClass:"line-number"},[n._v("23")]),e("br"),e("span",{staticClass:"line-number"},[n._v("24")]),e("br"),e("span",{staticClass:"line-number"},[n._v("25")]),e("br"),e("span",{staticClass:"line-number"},[n._v("26")]),e("br"),e("span",{staticClass:"line-number"},[n._v("27")]),e("br"),e("span",{staticClass:"line-number"},[n._v("28")]),e("br"),e("span",{staticClass:"line-number"},[n._v("29")]),e("br"),e("span",{staticClass:"line-number"},[n._v("30")]),e("br"),e("span",{staticClass:"line-number"},[n._v("31")]),e("br"),e("span",{staticClass:"line-number"},[n._v("32")]),e("br"),e("span",{staticClass:"line-number"},[n._v("33")]),e("br"),e("span",{staticClass:"line-number"},[n._v("34")]),e("br"),e("span",{staticClass:"line-number"},[n._v("35")]),e("br"),e("span",{staticClass:"line-number"},[n._v("36")]),e("br"),e("span",{staticClass:"line-number"},[n._v("37")]),e("br"),e("span",{staticClass:"line-number"},[n._v("38")]),e("br"),e("span",{staticClass:"line-number"},[n._v("39")]),e("br"),e("span",{staticClass:"line-number"},[n._v("40")]),e("br"),e("span",{staticClass:"line-number"},[n._v("41")]),e("br"),e("span",{staticClass:"line-number"},[n._v("42")]),e("br"),e("span",{staticClass:"line-number"},[n._v("43")]),e("br"),e("span",{staticClass:"line-number"},[n._v("44")]),e("br"),e("span",{staticClass:"line-number"},[n._v("45")]),e("br"),e("span",{staticClass:"line-number"},[n._v("46")]),e("br"),e("span",{staticClass:"line-number"},[n._v("47")]),e("br"),e("span",{staticClass:"line-number"},[n._v("48")]),e("br"),e("span",{staticClass:"line-number"},[n._v("49")]),e("br"),e("span",{staticClass:"line-number"},[n._v("50")]),e("br"),e("span",{staticClass:"line-number"},[n._v("51")]),e("br"),e("span",{staticClass:"line-number"},[n._v("52")]),e("br"),e("span",{staticClass:"line-number"},[n._v("53")]),e("br"),e("span",{staticClass:"line-number"},[n._v("54")]),e("br"),e("span",{staticClass:"line-number"},[n._v("55")]),e("br"),e("span",{staticClass:"line-number"},[n._v("56")]),e("br"),e("span",{staticClass:"line-number"},[n._v("57")]),e("br"),e("span",{staticClass:"line-number"},[n._v("58")]),e("br")])]),e("p",[n._v("效果如下：")]),n._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200228151643986.gif",alt:""}})])])}),[],!1,null,null,null);s.default=t.exports}}]);