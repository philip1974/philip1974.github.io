(window.webpackJsonp=window.webpackJsonp||[]).push([[268],{968:function(n,e,s){"use strict";s.r(e);var a=s(44),t=Object(a.a)({},(function(){var n=this,e=n.$createElement,s=n._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h1",{attrs:{id:"tweenanimationbuilder"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tweenanimationbuilder"}},[n._v("#")]),n._v(" TweenAnimationBuilder")]),n._v(" "),s("p",[n._v("开发App中有时需要一个简单的动画，可以通过AnimationController实现，但比较麻烦，有没有一个内置的隐式动画组件来解决这个问题？TweenAnimationBuilder可以满足你对所有自定义动画的需求，而不用关系AnimationController。")]),n._v(" "),s("p",[n._v("TweenAnimationBuilder用法比较简单，首先需要一个动画时长参数：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("TweenAnimationBuilder<double>(\n\tduration: Duration(seconds: 2),\n)\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br")])]),s("p",[n._v("然后添加一个builder方法，用法如下：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("builder: (context, value, child) {\n        return Container(\n          height: value,\n          width: value,\n          child: child,\n        );\n      }\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br")])]),s("p",[n._v("builder方法有3个参数，第一个是BuildContext，第二个value的类型取决于你要做动画的数据，比如：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("TweenAnimationBuilder<double>(\n\tbuilder: (context, value, child) {\n\t}\n)\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br")])]),s("p",[n._v("value的类型就是double，如果是"),s("code",[n._v("TweenAnimationBuilder<Color>")]),n._v(",value的类型就是Color。\n第三个就是TweenAnimationBuilder的子组件，用于优化。")]),n._v(" "),s("p",[n._v("设置tween（动画的值），比如需要一个100到200的差值，设置如下：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("tween: Tween<double>(begin: 100.0, end: 200),\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[n._v("如果需要颜色值使用"),s("code",[n._v("ColorTween")]),n._v(",这样我们的动画组件就可以动起来了。")]),n._v(" "),s("p",[n._v("我们也可以设置动画曲线，设置如下：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("TweenAnimationBuilder<double>(\n\t curve: Curves.bounceIn,\n)\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br")])]),s("p",[n._v("通过onEnd监听动画完成通知，用法如下：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("TweenAnimationBuilder<double>(\n\t onEnd: () {}\n)\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br")])]),s("p",[n._v("下面写一个图片不断放大变小的demo：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("double _value = 200;\n  \n  @override\n  Widget build(BuildContext context) {\n    return Center(\n        child: TweenAnimationBuilder<double>(\n      tween: Tween<double>(begin: 100.0, end: _value),\n      duration: Duration(seconds: 2),\n      curve: Curves.bounceIn,\n      builder: (context, value, child) {\n        return Container(\n          height: value,\n          width: value,\n          child: child,\n        );\n      },\n      onEnd: () {\n        setState(() {\n          _value = _value == 200 ? 250 : 200;\n        });\n      },\n      child: Image.network(\n        'https://flutter.github.io/assets-for-api-docs/assets/widgets/owl-2.jpg',\n        fit: BoxFit.fill,\n      ),\n    ));\n  }\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br")])]),s("p",[n._v("效果如下：")]),n._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200302175924444.gif",alt:""}})])])}),[],!1,null,null,null);e.default=t.exports}}]);